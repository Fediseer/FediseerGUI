<ng-container>
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Your guarantor</h3>
      </div>
      <div class="card-body">
        <p *ngIf="!guarantor">
          This instance doesn't have a guarantor. Maybe try asking in the <a
          href="https://lemmyverse.link/c/fediseer@lemmy.dbzer0.com" target="_blank">support forum</a>?
        </p>
        <p *ngIf="guarantor">
          This instance is guaranteed by <strong><a routerLink="/instances/detail/{{guarantor}}">{{guarantor}}</a></strong>
        </p>
      </div>
    </div>

    <div class="card" *ngIf="(instance | async)! as instance">
      <div class="card-header">
        <h3 class="card-title">Guarantees that {{instance.name}} <strong>has given</strong></h3>
      </div>
      <div class="card-body">
        <table class="table table-bordered">
          <thead>
          <tr>
            <th>Instance</th>
            <th>Cancel</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngIf="guarantor">
            <td colspan="2">
              <a routerLink="/guarantees/guarantee" class="btn btn-primary">Guarantee an instance</a>
            </td>
          </tr>
          <tr *ngIf="!instancesGuaranteedByMe.length">
            <td colspan="2" *ngIf="guarantor">This instance didn't guarantee anyone yet.</td>
            <td colspan="3" *ngIf="!guarantor">No one guaranteed for this instance, you cannot give guarantees yourself.</td>
          </tr>
          <tr *ngFor="let guaranteed of instancesGuaranteedByMe">
            <td><a routerLink="/instances/detail/{{guaranteed.domain}}">{{guaranteed.domain}}</a></td>
            <td>
              <button class="btn btn-danger" (click)="cancelGuarantee(guaranteed.domain)">Cancel</button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</ng-container>
